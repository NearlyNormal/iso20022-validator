<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ISO 20022 Validator</title>
  <!-- UIKit -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.25.12/dist/css/uikit.min.css">
  <script src="https://cdn.jsdelivr.net/npm/uikit@3.25.12/dist/js/uikit.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/uikit@3.25.12/dist/js/uikit-icons.min.js"></script>
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&family=IBM+Plex+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- Highlight.js (regular script, not module) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.min.css" id="hljs-theme">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/xml.min.js"></script>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>

  <!-- Hidden select for internal use -->
  <select id="message-type-select" hidden>
    <option value="auto">Auto-detect</option>
    <option value="pacs.008">pacs.008</option>
    <option value="pain.001">pain.001</option>
    <option value="pacs.002">pacs.002</option>
    <option value="camt.053">camt.053</option>
    <option value="camt.054">camt.054</option>
    <option value="pacs.004">pacs.004</option>
    <option value="pacs.009">pacs.009</option>
  </select>

  <!-- NAVBAR -->
  <nav class="uk-navbar-container" uk-navbar>
    <div class="uk-navbar-left uk-margin-left">
      <span class="app-title"><span class="accent">&gt;</span> ISO 20022 Validator</span>
      <span class="version-badge">v1.2</span>
    </div>
    <div class="uk-navbar-right uk-margin-right">
      <button class="validate-btn" id="validate-btn">
        <img src="assets/validate.svg" alt=""> Validate Format
      </button>
    </div>
  </nav>

  <!-- MAIN -->
  <div class="app-container">
    <div class="panels-grid">

      <!-- LEFT PANEL -->
      <div class="panel-left">
        <div class="panel-left-toolbar">
          <span class="panel-left-title">XML Input</span>
          <div class="toolbar-buttons">
            <div class="uk-inline">
              <button class="toolbar-btn" type="button" id="load-sample-btn">
                <img src="assets/load.svg" alt=""> Load Sample
              </button>
              <div uk-dropdown="mode: click; pos: bottom-right" class="sample-dropdown">
                <ul class="uk-nav uk-dropdown-nav">
                  <li class="uk-nav-header">Core Messages</li>
                  <li><a href="#" data-sample="pacs.008">pacs.008 &mdash; FI to FI Credit Transfer</a></li>
                  <li><a href="#" data-sample="pain.001">pain.001 &mdash; Customer Credit Transfer</a></li>
                  <li><a href="#" data-sample="pacs.002">pacs.002 &mdash; Payment Status Report</a></li>
                  <li><a href="#" data-sample="camt.053">camt.053 &mdash; Bank to Customer Statement</a></li>
                  <li class="uk-nav-divider"></li>
                  <li class="uk-nav-header">Extended Messages</li>
                  <li><a href="#" data-sample="camt.054">camt.054 &mdash; Debit/Credit Notification</a></li>
                  <li><a href="#" data-sample="pacs.004">pacs.004 &mdash; Payment Return</a></li>
                  <li><a href="#" data-sample="pacs.009">pacs.009 &mdash; FI to FI Institution Transfer</a></li>
                </ul>
              </div>
            </div>
            <label class="toolbar-btn" style="margin:0">
              <img src="assets/upload.svg" alt=""> Upload File
              <input type="file" id="file-upload" accept=".xml,.txt" hidden>
            </label>
          </div>
        </div>
        <div class="editor-area">
          <div class="editor-wrap">
            <textarea id="xml-input" placeholder="Paste or upload an ISO 20022 XML message&#10;(or load a sample for quick testing)" spellcheck="false"></textarea>
            <pre id="xml-highlighted"><code id="xml-code" class="language-xml"></code></pre>
          </div>
        </div>
      </div>

      <!-- BLUE DIVIDER -->
      <div class="panel-divider"></div>

      <!-- RIGHT PANEL -->
      <div class="panel-right">
        <div class="panel-right-toolbar">
          <span class="panel-right-title">Validation Results</span>
          <div class="actions-dropdown-wrap" id="actions-dropdown-wrap">
            <div class="uk-inline">
              <button class="toolbar-btn" type="button"><img src="assets/actions.svg" alt=""> Actions â–¾</button>
              <div uk-dropdown="mode: click; pos: bottom-right" class="actions-dropdown">
                <ul class="uk-nav uk-nav-default">
                  <li><a href="#" id="copy-report-btn"><img src="assets/copy.svg" alt="" class="dropdown-icon"> Copy JSON</a></li>
                  <li><a href="#" id="compare-sample-btn"><img src="assets/compare.svg" alt="" class="dropdown-icon"> Compare</a></li>
                  <li><a href="#" id="export-pdf-btn"><img src="assets/export.svg" alt="" class="dropdown-icon"> Export PDF</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="results-area">
          <div id="results-content" class="results-body">
            <div class="empty-state" id="empty-state">
              <img src="assets/info.svg" alt="" class="empty-state-icon">
              <div class="empty-state-text">
                Paste or upload an ISO 20022 XML message<br>
                in the left section of this page<br><br>
                Then click <strong>[Validate Format]</strong> to check whether<br>
                it is error-free, or get clear pointers
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- DIFF MODAL -->
  <div id="diff-modal" uk-modal>
    <div class="uk-modal-dialog uk-modal-body uk-width-xxlarge" style="padding:0">
      <div class="uk-flex uk-flex-between uk-flex-middle" style="padding:14px 20px;border-bottom:1px solid var(--border)">
        <h3 class="uk-modal-title" style="font-family:var(--font-mono);font-size:var(--size-md);font-weight:600;margin:0">Diff: Your Message vs. Sample</h3>
        <button class="uk-modal-close" type="button" uk-close></button>
      </div>
      <div class="diff-body">
        <div class="diff-panel diff-panel-left" id="diff-left"></div>
        <div class="diff-panel diff-panel-right" id="diff-right"></div>
      </div>
    </div>
  </div>


  <script src="assets/app.js"></script>
</body>
</html>
